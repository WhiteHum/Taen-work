<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
    <meta charset="utf-8" />
    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width" />
    <title>Modneyro</title>
    <!-- CSS Files-->
    <link rel="stylesheet" href="stylesheets/style.css">

    <link rel="stylesheet" href="stylesheets/skins/blue.css">
    <!-- skin color -->
    <link rel="stylesheet" href="stylesheets/responsive.css">
    <!-- IE Fix for HTML5 Tags -->
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>
    <!-- HIDDEN PANEL ================================================== -->
    <div id="panel">
        <div class="row">
            <div class="twelve columns">
                <img src="http://www.wowthemes.net/demo/studiofrancesca/images/info.png" class="pics" alt="info">
                <div class="infotext">
                    Thank you for visiting my theme! Replace this with your message to visitors.
                </div>
            </div>
        </div>
    </div>
    <p class="slide">
        <a href="#" class="btn-slide"></a>
    </p>
    <!-- HEADER ================================================== -->
    <div class="row">
        <div class="headerlogo four columns">
            <div class="logo">
                <a href="index.html">
                    <img src="assets/images/Modney_Modney.png" style="width:365px; height:75px; margin-bottom: -30px; margin-top:-30px;">
                    <!--<h4>모드니로</h4>-->
                </a>
            </div>
        </div>
        <div class="headermenu eight columns noleftmarg">
            <nav id="nav-wrap">
                <ul id="main-menu" class="nav-bar sf-menu" style="font-weight: bolder;">
                    <li class="current">
                        <a href="index.html">Home</a>
                        <ul>
                            <li><a href="Notice.html">공지사항</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">기업소개</a>
                        <ul>
                            <li><a href="about.html">소개 및 인사말</a></li>
                            <li><a href="services.html">주요 뉴스</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">농장주</a>
                        <ul>
                            <li><a href="farmer1.html">사람 구하기</a></li>
                            <li><a href="farmer2.html">농장주 지원</a></li>
                            <li><a href="farmer3.html">온라인 농업 기초 교육</a></li>
                            <li><a href="farmer_talk.html">농장주 모드니 톡톡</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">이주노동자</a>
                        <ul>
                            <li><a href="migrant1.html">일하기</a></li>
                            <li><a href="migrant2.html">이주 여성 지원</a></li>
                            <li><a href="migrant3.html">이주민 농업 기초 교육</a></li>
                            <li><a href="migrant_talk.html">이주 모드니 톡톡</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">모드니로</a>
                        <ul>
                            <li><a href="many_find.html">자주 찾는 일의 종류</a></li>
                            <li><a href="elements.html">투자자 문의</a></li>
                            <li><a href="typography.html">사업자 문의</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="contact.html">고객문의</a>
                    </li>
                    <li>
                        <button class="login button">로그인</button>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <!-- SUBHEADER
================================================== -->
    <div id="subheader">
        <div class="row">
            <div class="eight columns">
                <p class="bread leftalign">
                    <a href="farmer1.html">이력서 작성</a>
                </p>
            </div>
        </div>
    </div>
    <div class="hr">
    </div>

    <!-- CONTENT ================================================== -->
    <title></title>

    <style>
        #preview img {
            width: 100px;
            height: 100px;
        }
        
        #preview p {
            text-overflow: ellipsis;
            overflow: hidden;
        }
        
        .preview-box {
            border: 1px solid;
            padding: 5px;
            border-radius: 2px;
            margin-bottom: 10px;
        }
    </style>
    <style type="text/css">
        table {
            width: 50%;
            margin: auto;
        }
    </style>
    </head>

    <body>
        <table style="border: 1em;">
            <h1 style="margin-bottom: 30px;">
                <center> 이력서 </h1>
            <table border="0">
                <tr>
                    <td class="career0">1. 인적사항</td>
                </tr>
            </table>
            <table border="1">
                <tr>
                    <td rowspan="2" class="career1">
                        <div class="body">
                            <!-- 첨부 버튼 -->
                            <div id="attach">
                                <label class="waves-effect waves-teal btn-flat" for="uploadInputBox">사진첨부</label>
                                <input id="uploadInputBox" style="display: none" type="file" name="filedata" multiple />

                            </div>

                            <!-- 미리보기 영역 -->
                            <div id="preview" class="content"></div>

                            <!-- multipart 업로드시 영역 -->
                            <form id="uploadForm" style="display: none;">
                        </div>

                        </div>
                        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
                        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js"></script> -->
                        <script>
                            //임의의 file object영역
                            var files = {};
                            var previewIndex = 0;

                            // image preview 기능 구현
                            // input = file object[]
                            function addPreview(input) {
                                if (input[0].files) {
                                    //파일 선택이 여러개였을 시의 대응
                                    for (var fileIndex = 0; fileIndex < input[0].files.length; fileIndex++) {
                                        var file = input[0].files[fileIndex];

                                        if (validation(file.name))
                                            continue;

                                        var reader = new FileReader();
                                        reader.onload = function(img) {
                                            //div id="preview" 내에 동적코드추가.
                                            //이 부분을 수정해서 이미지 링크 외 파일명, 사이즈 등의 부가설명을 할 수 있을 것이다.
                                            var imgNum = previewIndex++;
                                            $("#preview")
                                                .append(
                                                    "<div class=\"preview-box\" value=\"" + imgNum + "\">" +
                                                    "<img class=\"thumbnail\" src=\"" + img.target.result + "\"\/>" +
                                                    "<p>" +
                                                    file.name +
                                                    "</p>" +
                                                    "<a href=\"#\" value=\"" +
                                                    imgNum +
                                                    "\" onclick=\"deletePreview(this)\">" +
                                                    "삭제" + "</a>" + "</div>");
                                            files[imgNum] = file;
                                        };
                                        reader.readAsDataURL(file);
                                    }
                                } else
                                    alert('invalid file input'); // 첨부클릭 후 취소시의 대응책은 세우지 않았다.
                            }

                            //preview 영역에서 삭제 버튼 클릭시 해당 미리보기이미지 영역 삭제
                            function deletePreview(obj) {
                                var imgNum = obj.attributes['value'].value;
                                delete files[imgNum];
                                $("#preview .preview-box[value=" + imgNum + "]").remove();
                                resizeHeight();
                            }

                            //client-side validation
                            //always server-side validation required
                            function validation(fileName) {
                                fileName = fileName + "";
                                var fileNameExtensionIndex = fileName.lastIndexOf('.') + 1;
                                var fileNameExtension = fileName.toLowerCase().substring(
                                    fileNameExtensionIndex, fileName.length);
                                if (!((fileNameExtension === 'jpg') ||
                                        (fileNameExtension === 'gif') || (fileNameExtension === 'png'))) {
                                    alert('jpg, gif, png 확장자만 업로드 가능합니다.');
                                    return true;
                                } else {
                                    return false;
                                }
                            }

                            $(document).ready(function() {
                                //submit 등록. 실제로 submit type은 아니다.
                                $('.submit a').on('click', function() {
                                    var form = $('#uploadForm')[0];
                                    var formData = new FormData(form);

                                    for (var index = 0; index < Object.keys(files).length; index++) {
                                        //formData 공간에 files라는 이름으로 파일을 추가한다.
                                        //동일명으로 계속 추가할 수 있다.
                                        formData.append('files', files[index]);
                                    }

                                    //ajax 통신으로 multipart form을 전송한다.
                                    $.ajax({
                                        type: 'POST',
                                        enctype: 'multipart/form-data',
                                        processData: false,
                                        contentType: false,
                                        cache: false,
                                        timeout: 600000,
                                        url: '/imageupload',
                                        dataType: 'JSON',
                                        data: formData,
                                        success: function(result) {
                                                //이 부분을 수정해서 다양한 행동을 할 수 있으며,
                                                //여기서는 데이터를 전송받았다면 순수하게 OK 만을 보내기로 하였다.
                                                //-1 = 잘못된 확장자 업로드, -2 = 용량초과, 그외 = 성공(1)
                                                if (result === -1) {
                                                    alert('jpg, gif, png, bmp 확장자만 업로드 가능합니다.');
                                                    // 이후 동작 ...
                                                } else if (result === -2) {
                                                    alert('파일이 10MB를 초과하였습니다.');
                                                    // 이후 동작 ...
                                                } else {
                                                    alert('이미지 업로드 성공');
                                                    // 이후 동작 ...
                                                }
                                            }
                                            //전송실패에대한 핸들링은 고려하지 않음
                                    });
                                });
                                // <input type=file> 태그 기능 구현
                                $('#attach input[type=file]').change(function() {
                                    addPreview($(this)); //preview form 추가하기
                                });
                            });
                        </script>



                    </td>

                    <td class="career2">한글이름</td>
                    <td><input type="text"></td>
                    <td class="career2">외국인등록번호</td>
                    <td><input type="text"> </td>
                </tr>
                <tr>
                    <td class="career3">영문이름</td>
                    <td><input type="text"></td>
                    <td class="career3">생년월일</td>
                    <td><input type="text"></td>
                </tr>
                <tr height=100>
                    <td class="career3">주소</td>
                    <td colspan="4"><input type="text"></td>
                </tr>
            </table>
            <br /><br />

            <table border="0">
                <tr>
                    <td class="career0">2. 자격사항</td>
                </tr>
            </table>
            <table border="1" width=1200 height=300>
                <thead>
                    <tr>
                        <th style="background-color: #F4A460; width: 25%; display: table-cell; vertical-align: middle; text-align: center;">자격증명</th>
                        <th style="background-color: #F4A460; width: 10%; display: table-cell; vertical-align: middle; text-align: center;">등급</th>
                        <th style="background-color: #F4A460; width: 25%; display: table-cell; vertical-align: middle; text-align: center;">취득일</th>
                        <th style="background-color: #F4A460; width: 40%; display: table-cell; vertical-align: middle; text-align: center;">발급기관</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text"></td>
                        <td><input type="text"></td>
                        <td><input type="text"></td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td><input type="text"></td>
                        <td><input type="text"></td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td><input type="text"></td>
                        <td><input type="text"></td>
                        <td><input type="text"></td>
                    </tr>
                </tbody>
            </table>
            <div class="row-migrant1">
                <ul>
                    <li>
                        <a href="career_write.html" class="save1 button">저장</a>
                    </li>
                    <li>
                        <a href="migrant1.html" class="back1 button">목록</a>
                    </li>
                </ul>
            </div>
        </table>
    </body>

</html>


<!-- FOOOTER ================================================== -->
<div class="clear">
</div>

<div id="footer">
    <footer class="row">
        <p class="back-top floatright">
            <a href="#top"><span></span></a>
        </p>
        <div class="four columns">
            <h1>ABOUT US</h1>
            Our goal is to keep clients satisfied!
        </div>
        <div class="four columns">
            <h1>GET SOCIAL</h1>
            <a class="social facebook" href="#"></a>
            <a class="social twitter" href="#"></a>
            <a class="social deviantart" href="#"></a>
            <a class="social flickr" href="#"></a>
            <a class="social dribbble" href="#"></a>
        </div>
        <div class="four columns">
            <h1 class="newsmargin">NEWSLETTER</h1>
            <div class="row collapse newsletter floatright">
                <div class="ten mobile-three columns">
                    <input type="text" class="nomargin" placeholder="Enter your e-mail address...">
                </div>
                <div class="two mobile-one columns">
                    <a href="#" class="postfix button expand">GO</a>
                </div>
            </div>
        </div>
    </footer>
</div>
<div class="copyright">
    <div class="row">
        <div class="six columns">
            &copy;<span class="small"> Copyright Your Agency Name</span>
        </div>
        <div class="six columns">
            <span class="small floatright">Design by <a target="_blank" href="http://www.wowthemes.net/premium-themes-templates/">WowThemesNet</a> </span>
        </div>
    </div>
</div>
<!-- JAVASCRIPTS 
================================================== -->
<!-- Javascript files placed here for faster loading -->
<script src="javascripts/foundation.min.js"></script>
<script src="javascripts/jquery.easing.1.3.js"></script>
<script src="javascripts/elasticslideshow.js"></script>
<script src="javascripts/jquery.carouFredSel-6.0.5-packed.js"></script>
<script src="javascripts/jquery.cycle.js"></script>
<script src="javascripts/app.js"></script>
<script src="javascripts/modernizr.foundation.js"></script>
<script src="javascripts/slidepanel.js"></script>
<script src="javascripts/scrolltotop.js"></script>
<script src="javascripts/hoverIntent.js"></script>
<script src="javascripts/superfish.js"></script>
<script src="javascripts/responsivemenu.js"></script>
</body>

</html>